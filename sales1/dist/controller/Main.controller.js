sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/m/MessageToast"],function(e,t,r){"use strict";return e.extend("sync.zec.sales1.controller.Main",{onInit:function(){var e=this.getOwnerComponent().getModel("cart");this.getView().setModel(e,"cart");this._extractKunnrFromHash()},_extractKunnrFromHash:function(){var e=window.location.hash;if(e){var t=e.split("=")[1];if(t){t=decodeURIComponent(t);var r=this.getView().getModel("cart");r.setProperty("/Kunnr",t)}}},onRegularProductPress:function(){var e=t.getRouterFor(this);e.navTo("RouteHome")},onSubscriptionProductPress:function(){var e=t.getRouterFor(this);e.navTo("RouteSub")},onRec:function(){var e=this.getView().getModel("cart");var a=e.getProperty("/Kunnr");if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService){var n=sap.ushell.Container.getService("CrossApplicationNavigation");var o=n.hrefForExternal({target:{semanticObject:"synczecrecservice",action:"display"},params:{kunnr:a}});var i=window.location.href.split("#")[0]+o;var s=window.open(i,"SurveyPopup","width=800,height=600");if(!s){r.show("팝업을 열 수 없습니다. 팝업 차단을 해제해 주세요.")}else{var l=setInterval(function(){if(s.closed){clearInterval(l);if(localStorage.getItem("materialCodes")){var e=t.getRouterFor(this);e.navTo("RouteSub")}else{r.show("설문을 완료하지 않았습니다.")}}}.bind(this),500)}}else{r.show("Cross Application Navigation 서비스가 제공되지 않습니다.")}},onSearchOrder:function(){var e=this.getView().getModel("cart");var t=e.getProperty("/Kunnr");if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService){var a=sap.ushell.Container.getService("CrossApplicationNavigation");var n=a.hrefForExternal({target:{semanticObject:"synczecmain",action:"display"},params:{kunnr:t}});var o=window.location.href.split("#")[0]+n;var i=window.open(o,"SurveyPopup","width=800,height=600");if(!i){r.show("팝업을 열 수 없습니다. 팝업 차단을 해제해 주세요.")}}else{r.show("Cross Application Navigation 서비스가 제공되지 않습니다.")}},onChat:function(){var e=this.getView().getModel("cart");var t=e.getProperty("/Kunnr");if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService){var a=sap.ushell.Container.getService("CrossApplicationNavigation");var n=a.hrefForExternal({target:{semanticObject:"synczecchatting",action:"display"},params:{kunnr:t}});var o=window.location.href.split("#")[0]+n;var i=window.open(o,"SurveyPopup","width=800,height=600");if(!i){r.show("팝업을 열 수 없습니다. 팝업 차단을 해제해 주세요.")}}else{r.show("Cross Application Navigation 서비스가 제공되지 않습니다.")}}})});
//# sourceMappingURL=Main.controller.js.map